{{define "main"}}

<div class="search-form">
    <div id="tags" class="tag-list d-flex flex-wrap justify-content-center">
        {{ range $index, $element := .Site.Taxonomies.tags }}
            <a href="{{ $element.Page.RelPermalink }}" class="tag-link"
                data-dir="{{ if ne ($.Param "languagedir") "rtl" }}ltr{{ else }}rtl{{ end }}">
                <button class="btn btn-primary tag-btn">
                    {{ $element.Page.Title }}
                    <span class="badge text-bg-secondary">
                        {{ printf "%#v" (len $element) }}
                    </span>
                </button>
            </a>
        {{ end }}
    </div>

    <div id="search"></div>

</div>

<link href="/_pagefind/pagefind-ui.css" rel="stylesheet">
<script src="/_pagefind/pagefind-ui.js" type="text/javascript"></script>
<script>
    window.addEventListener('DOMContentLoaded', (event) => {
        new PagefindUI({ element: "#search" });
    });
</script>

<style>
    .search-form {
        max-width: 90%;
        margin: auto;
    }

    .tag-list {
        margin-top: 1em;
    }

    .tag-link {
        text-decoration: none;
    }

    .tag-btn {
        margin-right: 0.5em;
        margin-bottom: 0.5em;
    }
</style>

{{end}}
